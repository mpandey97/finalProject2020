{"ast":null,"code":"var _jsxFileName = \"/Users/sanidhyasitaula/mern-todo-app/src/App.js\";\nimport React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\nimport Create from './components/create.component';\nimport Edit from './components/edit.component';\nimport Index from './components/index.component';\nimport axios from 'axios';\n\nvar AWS = require('aws-sdk');\n\nvar s3 = new AWS.S3({\n  accessKeyId: 'XXXXXXXXXXXX',\n  secretAccessKey: 'YYYYYYYYYYYY',\n  region: 'REGION'\n});\nvar params = {\n  Bucket: 'test-bucket-tutorial',\n  Key: 'images/myimage.jpg',\n  ContentType: 'image/jpeg'\n};\ns3.getSignedUrl('putObject', params, function (err, url) {\n  console.log('Your generated pre-signed URL is', url);\n});\nImagePickerIOS.openSelectDialog({}, imageUri => {\n  const xhr = new XMLHttpRequest();\n  xhr.open('PUT', presignedUrl);\n\n  xhr.onreadystatechange = function () {\n    if (xhr.readyState === 4) {\n      if (xhr.status === 200) {\n        console.log('Image successfully uploaded to S3');\n      } else {\n        console.log('Error while sending the image to S3');\n      }\n    }\n  };\n\n  xhr.setRequestHeader('Content-Type', 'image/jpeg');\n  xhr.send({\n    uri: imageUri,\n    type: 'image/jpeg',\n    name: 'myimage.jpg'\n  });\n}, error => console.log(error));\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      title: '',\n      body: '',\n      posts: ''\n    };\n\n    this.componentDidMount = () => {\n      this.getData();\n    };\n\n    this.getData = () => {\n      axios.get('http://localhost:4000/business').then(response => {\n        const data = response.data;\n        this.setState({\n          posts: data\n        });\n        console.log('data reveived');\n      }).catch(() => {\n        console.log('errorrrr');\n      });\n    };\n\n    this.displayProfile = posts => {\n      if (!posts.length) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 20\n          }\n        }, \" No Profile Found\");\n      }\n\n      return posts.map((post, index) => /*#__PURE__*/React.createElement(\"div\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }\n      }, \" \", post.person_name, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }\n      }, \" \", post.business_name, \" \")));\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"nav\", {\n      className: \"navbar navbar-expand-lg navbar-light bg-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: '/',\n      className: \"navbar-brand\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    }, \"Profile Page\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"collapse navbar-collapse\",\n      id: \"navbarSupportedContent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"navbar-nav mr-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: '/create',\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 19\n      }\n    }, \"Admin\"))))), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 18\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    }, this.displayProfile(this.state.posts)), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 62\n      }\n    }), /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/create\",\n      component: Index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/edit/:id\",\n      component: Edit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 15\n      }\n    }), \"//\", /*#__PURE__*/React.createElement(Route, {\n      path: \"/index\",\n      component: Index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/sanidhyasitaula/mern-todo-app/src/App.js"],"names":["React","Component","BrowserRouter","Router","Switch","Route","Link","Create","Edit","Index","axios","AWS","require","s3","S3","accessKeyId","secretAccessKey","region","params","Bucket","Key","ContentType","getSignedUrl","err","url","console","log","ImagePickerIOS","openSelectDialog","imageUri","xhr","XMLHttpRequest","open","presignedUrl","onreadystatechange","readyState","status","setRequestHeader","send","uri","type","name","error","App","state","title","body","posts","componentDidMount","getData","get","then","response","data","setState","catch","displayProfile","length","map","post","index","person_name","business_name","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\n\nimport Create from './components/create.component';\nimport Edit from './components/edit.component';\nimport Index from './components/index.component';\n\nimport axios from 'axios'; \n\nvar AWS = require('aws-sdk');\nvar s3 = new AWS.S3({accessKeyId:'XXXXXXXXXXXX', secretAccessKey:'YYYYYYYYYYYY', region:'REGION'});\n \nvar params = {Bucket: 'test-bucket-tutorial', Key: 'images/myimage.jpg', ContentType: 'image/jpeg'};\ns3.getSignedUrl('putObject', params, function (err, url) {\n    console.log('Your generated pre-signed URL is', url);\n});\n\nImagePickerIOS.openSelectDialog({}, imageUri => {\n    const xhr = new XMLHttpRequest()\n    xhr.open('PUT', presignedUrl)\n    xhr.onreadystatechange = function() {\n        if (xhr.readyState === 4) {\n            if (xhr.status === 200) {\n            console.log('Image successfully uploaded to S3')\n        } else {\n            console.log('Error while sending the image to S3')\n        }\n    }\n}\nxhr.setRequestHeader('Content-Type', 'image/jpeg')\nxhr.send({ uri: imageUri, type: 'image/jpeg', name: 'myimage.jpg'})\n}, error => console.log(error));\n\n\nclass App extends Component {\n   \n      \n    \n    state = {\n        title : '',\n        body : '',\n        posts : ''\n        \n    };\n    \n    componentDidMount = () => {\n        this.getData(); \n    }\n    \n    getData = () => {\n        axios.get('http://localhost:4000/business')\n        .then((response) => {\n            const data = response.data; \n            this.setState({posts : data});\n            console.log('data reveived'); \n            \n        })\n        .catch(() => {\n            console.log('errorrrr');\n        }  )\n        \n    }\n    \n    displayProfile = (posts) => {\n        if (!posts.length){\n            \n            return <div> No Profile Found</div>; \n        }\n        return posts.map((post, index) => (\n            <div key = {index}>\n                \n                <h2> {post.person_name} </h2>\n                <p> {post.business_name} </p>\n                </div> \n        )\n                 \n                 \n        );\n    }; \n    \n    \n  render() {\n    \n    return (\n      <Router>\n        <div className=\"container\">\n          <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n            <Link to={'/'} className=\"navbar-brand\">Profile Page</Link>\n            <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n              <ul className=\"navbar-nav mr-auto\">\n              \n                <li className=\"nav-item\">\n                  <Link to={'/create'} className=\"nav-link\">Admin</Link>\n                </li>\n               \n              </ul>\n            </div>\n          </nav> <br/>\n        \n          <div>{this.displayProfile(this.state.posts)}</div> <br/>\n          <Switch>\n                \n              <Route exact path='/create' component={ Index } />\n              <Route path='/edit/:id' component={ Edit } />\n              //<Route path='/index' component={ Index } />\n          </Switch>\n        </div>\n      </Router>\n    );\n  }\n}\n\n\n\n\n\nexport default App;"]},"metadata":{},"sourceType":"module"}